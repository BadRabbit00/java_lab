<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä | Java Shop</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <a href="/" class="logo">üõçÔ∏è Java Shop</a>
            
            <ul class="admin-nav">
                <li><a href="/admin">üìä –î–∞—à–±–æ—Ä–¥</a></li>
                <li><a href="/admin/products" class="active">üì¶ –¢–æ–≤–∞—Ä—ã</a></li>
                <li><a href="/admin/categories">üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a></li>
                <li><a href="/admin/prices">üí∞ –¶–µ–Ω–æ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏</a></li>
                <li><a href="/admin/taxes">üìã –ù–∞–ª–æ–≥–∏</a></li>
                <li><a href="/admin/shipping">üöö –î–æ—Å—Ç–∞–≤–∫–∞</a></li>
                <li style="margin-top: 2rem;"><a href="/">üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–∞–≥–∞–∑–∏–Ω</a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="admin-content">
            <div class="admin-header">
                <h1>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä</h1>
                <a href="/admin/products" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
            </div>

            <div class="form-card">
                <h3>
                    <span th:if="${isDigital}">üíø</span>
                    <span th:if="${isPhysical}">üì¶</span>
                    <span th:text="${product.name}">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</span>
                </h3>
                
                <form th:action="@{/admin/products/edit/{id}(id=${productId})}" method="post">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ *</label>
                            <input type="text" id="name" name="name" class="form-control" required 
                                   th:value="${product.name}">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="description" name="description" class="form-control" rows="3"
                                  th:text="${product.description}"></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="price">–¶–µ–Ω–∞ (‚Ç∏) *</label>
                            <input type="number" id="price" name="price" class="form-control" required 
                                   min="0" step="0.01" th:value="${product.price}">
                        </div>
                        <div class="form-group">
                            <label for="quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ *</label>
                            <input type="number" id="quantity" name="quantity" class="form-control" required 
                                   min="0" th:value="${product.quantity}">
                        </div>
                    </div>

                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                        <a href="/admin/products" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
                    </div>
                </form>
            </div>

            <!-- Product Info Card -->
            <div class="form-card" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);">
                <h3>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ</h3>
                <ul class="product-specs">
                    <li>
                        <strong>ID —Ç–æ–≤–∞—Ä–∞:</strong>
                        <span th:text="${product.id}">P-001</span>
                    </li>
                    <li>
                        <strong>–¢–∏–ø:</strong>
                        <span class="tag" 
                              th:classappend="${isDigital} ? 'tag-digital' : 'tag-physical'"
                              th:text="${isDigital} ? '–¶–∏—Ñ—Ä–æ–≤–æ–π' : '–§–∏–∑–∏—á–µ—Å–∫–∏–π'">–¢–∏–ø</span>
                    </li>
                    <li>
                        <strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong>
                        <span th:text="${product.category != null} ? ${product.category.name} : '–ù–µ —É–∫–∞–∑–∞–Ω–∞'">
                            –ö–∞—Ç–µ–≥–æ—Ä–∏—è
                        </span>
                    </li>
                    <li>
                        <strong>–°—Ç–∞—Ç—É—Å –Ω–∞–ª–∏—á–∏—è:</strong>
                        <span th:text="${product.stockStatus}">IN_STOCK</span>
                    </li>
                </ul>
            </div>
        </main>
    </div>
</body>
</html>
