<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä | Java Shop</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <a href="/" class="logo">üõçÔ∏è Java Shop</a>
            
            <ul class="admin-nav">
                <li><a href="/admin">üìä –î–∞—à–±–æ—Ä–¥</a></li>
                <li><a href="/admin/products" class="active">üì¶ –¢–æ–≤–∞—Ä—ã</a></li>
                <li><a href="/admin/categories">üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a></li>
                <li><a href="/admin/prices">üí∞ –¶–µ–Ω–æ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏</a></li>
                <li><a href="/admin/taxes">üìã –ù–∞–ª–æ–≥–∏</a></li>
                <li><a href="/admin/shipping">üöö –î–æ—Å—Ç–∞–≤–∫–∞</a></li>
                <li style="margin-top: 2rem;"><a href="/">üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–∞–≥–∞–∑–∏–Ω</a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="admin-content">
            <div class="admin-header">
                <h1>‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h1>
                <a href="/admin/products" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
            </div>

            <!-- Tabs for product type -->
            <div class="tabs">
                <button class="tab active" onclick="showTab('physical')">üì¶ –§–∏–∑–∏—á–µ—Å–∫–∏–π —Ç–æ–≤–∞—Ä</button>
                <button class="tab" onclick="showTab('digital')">üíø –¶–∏—Ñ—Ä–æ–≤–æ–π —Ç–æ–≤–∞—Ä</button>
            </div>

            <!-- Physical Product Form -->
            <div id="physical-tab" class="tab-content active">
                <div class="form-card">
                    <h3>üì¶ –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Ç–æ–≤–∞—Ä</h3>
                    <form action="/admin/products/add/physical" method="post">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="p-name">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ *</label>
                                <input type="text" id="p-name" name="name" class="form-control" required 
                                       placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: iPhone 15 Pro">
                            </div>
                            <div class="form-group">
                                <label for="p-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                                <select id="p-category" name="category" class="form-control" required>
                                    <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                                    <option th:each="cat : ${categories}" th:value="${cat.name}" th:text="${cat.name}">
                                        –ö–∞—Ç–µ–≥–æ—Ä–∏—è
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="p-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <textarea id="p-description" name="description" class="form-control" rows="3"
                                      placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞..."></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="p-price">–¶–µ–Ω–∞ (‚Ç∏) *</label>
                                <input type="number" id="p-price" name="price" class="form-control" required 
                                       min="0" step="0.01" placeholder="10000">
                            </div>
                            <div class="form-group">
                                <label for="p-quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ *</label>
                                <input type="number" id="p-quantity" name="quantity" class="form-control" required 
                                       min="0" value="1" placeholder="10">
                            </div>
                            <div class="form-group">
                                <label for="p-weight">–í–µ—Å (–∫–≥) *</label>
                                <input type="number" id="p-weight" name="weight" class="form-control" required 
                                       min="0" step="0.01" placeholder="0.5">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="p-shipping">–ü–æ–ª–∏—Ç–∏–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                            <select id="p-shipping" name="shippingPolicy" class="form-control">
                                <option th:each="policy : ${shippingPolicies}" 
                                        th:value="${policy}" 
                                        th:text="${policy}"
                                        th:selected="${policy == 'standard'}">
                                    policy
                                </option>
                            </select>
                        </div>

                        <button type="submit" class="btn btn-primary">‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Ç–æ–≤–∞—Ä</button>
                    </form>
                </div>
            </div>

            <!-- Digital Product Form -->
            <div id="digital-tab" class="tab-content">
                <div class="form-card">
                    <h3>üíø –î–æ–±–∞–≤–∏—Ç—å —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç–æ–≤–∞—Ä</h3>
                    <form action="/admin/products/add/digital" method="post">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="d-name">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ *</label>
                                <input type="text" id="d-name" name="name" class="form-control" required 
                                       placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Microsoft Office 365">
                            </div>
                            <div class="form-group">
                                <label for="d-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                                <select id="d-category" name="category" class="form-control" required>
                                    <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                                    <option th:each="cat : ${categories}" th:value="${cat.name}" th:text="${cat.name}">
                                        –ö–∞—Ç–µ–≥–æ—Ä–∏—è
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="d-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <textarea id="d-description" name="description" class="form-control" rows="3"
                                      placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞..."></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="d-price">–¶–µ–Ω–∞ (‚Ç∏) *</label>
                                <input type="number" id="d-price" name="price" class="form-control" required 
                                       min="0" step="0.01" placeholder="10000">
                            </div>
                            <div class="form-group">
                                <label for="d-quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Ü–µ–Ω–∑–∏–π *</label>
                                <input type="number" id="d-quantity" name="quantity" class="form-control" required 
                                       min="0" value="100" placeholder="100">
                            </div>
                            <div class="form-group">
                                <label for="d-size">–†–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ (–ú–ë) *</label>
                                <input type="number" id="d-size" name="downloadSize" class="form-control" required 
                                       min="0" step="0.01" placeholder="1024">
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary">‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç–æ–≤–∞—Ä</button>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <script>
        function showTab(type) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(type + '-tab').classList.add('active');
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
