<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Shop - –õ—É—á—à–∏–π –º–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="/" class="logo">Java Shop</a>
            <nav class="nav">
                <a href="/" class="nav-link">üè† –ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/admin" class="nav-link admin">‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Hero Section -->
        <section class="hero animate-fade-in">
            <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Java Shop!</h1>
            <p>–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –ª—É—á—à–∏–µ —Ç–æ–≤–∞—Ä—ã –ø–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–º —Ü–µ–Ω–∞–º. –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞, –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∏–≥—Ä—ã –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ –∂–¥—É—Ç –≤–∞—Å!</p>
        </section>

        <!-- Categories Filter -->
        <section class="categories-filter">
            <a th:href="@{/}" class="category-btn" th:classappend="${selectedCategory == null} ? 'active' : ''">
                üì¶ –í—Å–µ —Ç–æ–≤–∞—Ä—ã
            </a>
            <a th:each="category : ${categories}" 
               th:href="@{/(category=${category.name})}" 
               class="category-btn"
               th:classappend="${selectedCategory != null && selectedCategory.equals(category.name)} ? 'active' : ''">
                <span th:text="${category.name}">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
            </a>
        </section>

        <!-- Products Grid -->
        <section class="product-grid">
            <article th:each="product : ${products}" class="product-card animate-fade-in">
                <div class="product-image" 
                     th:classappend="${productTypes.get(product.id) == 'digital'} ? 'digital' : 'physical'">
                    <span th:text="${productTypes.get(product.id) == 'digital'} ? 'üíø' : 'üì¶'">üì¶</span>
                    <span class="product-badge" 
                          th:classappend="${product.stockStatus == 'OUT_OF_STOCK'} ? 'out-of-stock' : ''"
                          th:text="${product.stockStatus == 'OUT_OF_STOCK'} ? '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏' : 
                                   (${product.stockStatus == 'LOW'} ? '–ú–∞–ª–æ' : '–í –Ω–∞–ª–∏—á–∏–∏')">
                        –í –Ω–∞–ª–∏—á–∏–∏
                    </span>
                </div>
                <div class="product-content">
                    <span class="product-category" th:if="${product.category != null}" 
                          th:text="${product.category.name}">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
                    <h3 class="product-title" th:text="${product.name}">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</h3>
                    <p class="product-description" th:text="${product.description ?: '–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}">
                        –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∑–¥–µ—Å—å...
                    </p>
                    <div class="product-footer">
                        <span class="product-price">
                            <span th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')}">10000</span>
                            <small>‚Ç∏</small>
                        </span>
                        <a th:href="@{/product/{id}(id=${productNumericIds.get(product.id)})}" class="btn btn-primary">
                            –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí
                        </a>
                    </div>
                </div>
            </article>

            <!-- Empty State -->
            <div th:if="${#lists.isEmpty(products)}" class="empty-state" style="grid-column: 1 / -1;">
                <div class="icon">üì≠</div>
                <h3>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                <p>–í –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∫–∞ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>¬© 2024 Java Shop. –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Boot</p>
    </footer>
</body>
</html>
